# VK Chat Bot

Многофункциональный бот для модерации бесед ВКонтакте с системой ролей, развлекательными функциями и широким набором команд.

## Функционал

### Команды пользователей:
- `/info` — официальные ресурсы проекта
- `/stats` — информация о пользователе
- `/getid` — узнать оригинальный ID пользователя в ВК

### Развлекательные команды:
- `/profile [ID]` — просмотр профиля пользователя
- `/daily` — получить ежедневную награду
- `/marry [ID]` — заключить брак с пользователем
- `/divorce` — расторгнуть брак
- `/rep [ID] [причина]` — повысить репутацию пользователя
- `/game [камень/ножницы/бумага]` — игра в камень-ножницы-бумага
- `/top [level/messages/balance/rep]` — топ пользователей

### Команды модераторов:
- `/kick` — исключить пользователя из беседы
- `/mute` — замутить пользователя
- `/unmute` — размутить пользователя
- `/warn` — выдать предупреждение пользователю
- `/unwarn` — снять предупреждение пользователю
- `/getban` — информация о банах пользователя
- `/getwarn` — информация о активных предупреждениях пользователя
- `/warnhistory` — информация о всех предупреждениях пользователя
- `/staff` — пользователи с ролями
- `/setnick` — сменить ник у пользователя
- `/removenick` — очистить ник у пользователя
- `/nlist` — посмотреть ники пользователей
- `/nonick` — пользователи без ников
- `/getnick` — проверить ник пользователя
- `/alt` — узнать альтернативные команды
- `/getacc` — узнать пользователя по нику
- `/warnlist` — список пользователей с варном
- `/clear` — очистить сообщения

### Команды старших модераторов:
- `/ban` — заблокировать пользователя в беседе
- `/unban` — разблокировать пользователя в беседе
- `/addmoder` — выдать пользователю модератора
- `/removerole` — забрать роль у пользователя
- `/zov` — упомянуть всех пользователей
- `/online` — упомянуть пользователей онлайн
- `/banlist` — посмотреть заблокированных
- `/onlinelist` — посмотреть пользователей в онлайн

### Команды администраторов:
- `/skick` — исключить пользователя с бесед сервера
- `/quiet` — Включить/выключить режим тишины
- `/sban` — заблокировать пользователя в беседах сервера
- `/sunban` — разбанить пользователя в беседах сервера
- `/addsenmoder` — дать пользователю роль старшего модератора
- `/bug` — сообщить разработчику о баге

## Система уровней и активности

Бот включает в себя систему уровней и активности:
- За каждое сообщение пользователь получает 10 XP
- Для достижения нового уровня требуется level * 1000 XP
- При повышении уровня бот отправляет поздравление
- Статистика активности доступна в профиле пользователя

## Система экономики

- Ежедневные награды (от 100 до 500 монет)
- Баланс отображается в профиле
- Возможность просмотра топа по балансу

## Система репутации

- Возможность повышать репутацию других пользователей
- История изменений репутации
- Топ пользователей по репутации

## Система браков

- Возможность заключать браки между пользователями
- Информация о браке отображается в профиле
- Возможность развода

## Мини-игры

- Камень-ножницы-бумага

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/vk-chat-bot.git
cd vk-chat-bot
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` на основе `.env.example` и заполните необходимые данные:
```bash
cp .env.example .env
```

4. Отредактируйте файл `.env`, указав:
- `VK_TOKEN` - токен группы ВКонтакте
- `GROUP_ID` - ID группы ВКонтакте
- `DEVELOPER_CHAT_ID` - ID чата для получения сообщений о багах

## Запуск

```bash
python bot.py
```

## База данных

Бот использует SQLite для хранения данных. База данных создается автоматически при первом запуске.

Таблицы в базе данных:
- `users` - информация о пользователях, их ролях, уровнях и балансе
- `bans` - информация о банах
- `warn_history` - история предупреждений
- `chat_settings` - настройки чатов
- `bug_reports` - сообщения о багах
- `marriages` - информация о браках
- `achievements` - достижения пользователей
- `reputation_history` - история изменений репутации

## Требования

- Python 3.7+
- vk_api
- python-dotenv
- SQLAlchemy 